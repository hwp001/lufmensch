{include file="public:header" /}
{include file="public:nav" /}
<div class="row">
    <div class="col-md-8">
        <div class="page-header">
            <h2>用户注册</h2>
        </div>

        <form class="form-horizontal" id="login">
            <div class="form-group">
                <label for="inputEmail1" class="col-sm-2 control-label">用户名：</label>
                <div class="col-sm-10">
                    <input type="text" name="name" class="form-control" id="inputEmail1" placeholder="user_name">
                </div>
            </div>

            <div class="form-group">
                <label for="inputEmail2" class="col-sm-2 control-label">邮箱：</label>
                <div class="col-sm-10">
                    <input type="email" name="email" class="form-control" id="inputEmail2" placeholder="Email">
                </div>
            </div>

            <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">手机号：</label>
                <div class="col-sm-10">
                    <input type="text" name="mobile" class="form-control" id="inputEmail3" placeholder="user_mobile">
                </div>
            </div>

            <div class="form-group">
                <label for="inputPassword4" class="col-sm-2 control-label">密码：</label>
                <div class="col-sm-10">
                    <input type="text" name="password" class="form-control" id="inputPassword4" placeholder="Password">
                </div>
            </div>

            <div class="form-group">
                <label for="inputPassword4" class="col-sm-2 control-label">确认密码：</label>
                <div class="col-sm-10">
                    <input type="text" name="password_confirm" class="form-control" id="inputPassword5" placeholder="Password_confirm">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-primary" id="register">注册</button>
                </div>
            </div>
        </form>
    </div>
    <script>
        $(function(){
            $("#register").on('click',function(){
                 // alert($('#login').serialize());
                //以json字符串
                $.ajax({
                    type:'post',
                    url:"{:url('index/user/insert')}",
                    data: $('#login').serialize(),
                    dataType:'json',
                    success: function(data) {
                        alert(data.status);
                        switch (data.status)
                        {
                            case 1:
                                alert(data.message);
                                break;
                            case 0:
                            case -1:
                                alert(data.message);
                                window.location.back();
                                break;
                        }

                    },
                    error:function(){
                        alert('没有值返回');
                    }
                })
            })

        });
    </script>


    <!--public "(这中间可以是任何符号，框架会过滤)" right（文件名，框架自动定位到right.html）-->
    {include file="public:right" /}
    {include file="public:footer" /}